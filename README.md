# STC15F104-Decode-Sony-IR-remote-
Use a STC15F104 to receive commands from a universal remote sending Sony 12 bit codes. The program doesn't use any interrupts, just polliing of the pin the ir receiver is connected to. Timer 0 of STC15F104 chip is used in mode 0 where it is a 16 bit timer. The 12 Mhz clock is divided by 12 so each clock count is 1 micro second. The program has a function that times the low pulses by setting the timer to 0 and starting it when the line goes low. When the line goes high again the timer is stopped and the count is read and returned. The function that reads the entire 12 bit code looks for a start pulse of 2400 micro seconds and then shifts in the next 12 bits. The bit is considered a 1 if it is greater than the logic 1 threshold length. Pulses less than the logic 1 threshold length are considered 0. The length of high pulses are ignored. This is just to demonstrate a simple method of decoding the signals. The video goes into more depth.

The code is compiled with the SDCC compiler. The windows bat file is used for compiling. I put the 2 source files and the bat file in the same folder for simplicity.
